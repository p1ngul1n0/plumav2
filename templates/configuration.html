{% extends "main.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/configuration.css') }}">
<script async src="{{ url_for('static', filename='js/configuration.js') }}"></script>
<div class="item">
    <form action="/configuration" method="POST" enctype="multipart/form-data">

                <h2 class="form-subtitle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-broadcast-pin" viewBox="0 0 16 16">
                        <path d="M3.05 3.05a7 7 0 0 0 0 9.9.5.5 0 0 1-.707.707 8 8 0 0 1 0-11.314.5.5 0 0 1 .707.707zm2.122 2.122a4 4 0 0 0 0 5.656.5.5 0 0 1-.708.708 5 5 0 0 1 0-7.072.5.5 0 0 1 .708.708zm5.656-.708a.5.5 0 0 1 .708 0 5 5 0 0 1 0 7.072.5.5 0 1 1-.708-.708 4 4 0 0 0 0-5.656.5.5 0 0 1 0-.708zm2.122-2.12a.5.5 0 0 1 .707 0 8 8 0 0 1 0 11.313.5.5 0 0 1-.707-.707 7 7 0 0 0 0-9.9.5.5 0 0 1 0-.707zM6 8a2 2 0 1 1 2.5 1.937V15.5a.5.5 0 0 1-1 0V9.937A2 2 0 0 1 6 8z"/>
                    </svg>
                    Proxy
                </h2>
                <div class="options-group">
                    <label class="option-label">Host & Port</label>
                    {% if proxy != 'false' %} 
                        <input class="proxy-input" type="text" name="proxy" placeholder="127.0.0.1:8080" autocomplete="off" value="{{ proxy }}">
                    {% else %}
                        <input class="proxy-input" type="text" name="proxy" placeholder="127.0.0.1:8080" autocomplete="off" value="">
                    {% endif %}
                </div>
                <h2 class="form-subtitle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-list-ol" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"/>
                        <path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"/>
                    </svg>
                    Payloads
                </h2>
                <div class="options-group">
                    <label class="option-label">Select a payload file to use</label>
                    <input class="file-input" id="payload_file" type="text" name="payload_file" placeholder="list.txt" required autocomplete="off" value="{{ file }}">
                    <ul class="file-list">
                        {% for filename in list_of_files %}
                            {% if filename == file %}
                                <li class="file-item selected-item">{{ filename }}</li>
                            {% else %}
                                <li class="file-item">{{ filename }}</li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    <label class="file-label" for='fileInput'>Upload a new file <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                      </svg></label>
                    <input class="file-input" id='fileInput' name="upload_file" type='file'>
                </div>
                <button id="submit-button" type="submit">SAVE</button>
    </form>
</div>
{% endblock %}